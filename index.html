<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velis - Redirecting</title>
    <link rel="icon" href="https://velis.me/icon.png" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 20px;
        }

        .loading-animation {
            position: relative;
            width: 120px;
            height: 120px;
        }

        .loading-animation .ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 4px solid transparent;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }

        .loading-animation .ring:nth-child(1) {
            border-top: 4px solid #ff6f00;
            animation-delay: -0.3s;
        }

        .loading-animation .ring:nth-child(2) {
            border-right: 4px solid #ff6f00;
            animation-delay: -0.6s;
        }

        .loading-animation .ring:nth-child(3) {
            border-bottom: 4px solid #ff6f00;
            animation-delay: -0.9s;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            font-size: 1.2rem;
            color: #ff6f00;
            font-weight: bold;
            animation: fadeIn 1s ease-in-out;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .facts {
            margin-top: 20px;
            font-size: 1rem;
            color: #888;
            font-style: italic;
        }

        a {
            color: #ff6f00;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="loading-container">
        <div class="loading-animation">
            <div class="ring"></div>
            <div class="ring"></div>
            <div class="ring"></div>
        </div>
        <div class="loading-text" id="benchmark">Running Benchmarks...</div>
        <div class="facts" id="facts">Velis is a non-commercial open-source organization dedicated to innovation.</div>
        <p>If you are not automatically redirected, click <a href="https://velis.me">here</a>.</p>
    </div>

    <script>
        const facts = [
            "Velis supports over 7 programming languages.",
            "Velis is built on open-source principles, emphasizing collaboration.",
            "Our team has contributors from 5 continents.",
            "We focus on making digital solutions accessible to everyone.",
            "Velis started in Mannheim in 2020.",
            "Velis strives to deliver impactful technology without commercial interests.",
            "Our projects are guided by transparency and community input."
        ];

        let factIndex = 0;
        setInterval(() => {
            factIndex = (factIndex + 1) % facts.length;
            document.getElementById("facts").innerText = facts[factIndex];
        }, 5000); // Display facts for 5 seconds each

        const benchmarks = [
            {
                name: "Initializing systems",
                process: () => new Promise(resolve => setTimeout(resolve, Math.random() * 500 + 500))
            },
            {
                name: "Performing high-intensity CPU-bound calculations",
                process: async () => {
                    let sum = 0;
                    for (let i = 0; i < 100000000; i++) {
                        sum += Math.sqrt(i);
                    }
                    await new Promise(resolve => setTimeout(resolve, Math.random() * 700 + 800));
                    return sum;
                }
            },
            {
                name: "Simulating memory load",
                process: async () => {
                    const arr = [];
                    const arrSize = Math.floor(Math.random() * 10 + 10) * 1000000; // 10-20 million integers
                    for (let i = 0; i < arrSize; i++) {
                        arr.push(Math.random());
                    }
                    await new Promise(resolve => setTimeout(resolve, Math.random() * 800 + 600));
                    return arr.length;
                }
            },
            {
                name: "Loading and optimizing resources",
                process: () => new Promise(resolve => setTimeout(resolve, Math.random() * 800 + 900))
            },
            {
                name: "Simulating high I/O operations",
                process: async () => {
                    const promises = [];
                    for (let i = 0; i < 5; i++) {
                        promises.push(new Promise(resolve => setTimeout(resolve, Math.random() * 500 + 300)));
                    }
                    await Promise.all(promises);
                    return true;
                }
            },
            {
                name: "Finalizing benchmark results",
                process: () => new Promise(resolve => setTimeout(resolve, Math.random() * 400 + 500))
            }
        ];

        let totalScore = 0;
        let benchmarkCount = 0;

        async function runBenchmarks() {
            const benchmarkElement = document.getElementById("benchmark");
            for (let i = 0; i < benchmarks.length; i++) {
                const start = performance.now();
                await benchmarks[i].process();
                const end = performance.now();
                const duration = end - start;

                // Calculate score based on time (lower time = higher score)
                const score = Math.max(0, 2000 - Math.round(duration)); // Increase the score penalty for longer tasks
                totalScore += score;
                benchmarkCount++;

                benchmarkElement.innerText = `${benchmarks[i].name} - Time: ${duration.toFixed(2)} ms - Score: ${score}`;
                await new Promise(resolve => setTimeout(resolve, 1000)); // Delay to simulate real-time feedback
            }

            const avgScore = (totalScore / benchmarkCount).toFixed(2);
            benchmarkElement.innerText = `Benchmarks Complete! VelisBenchScore: ${avgScore}`;
            setTimeout(() => {
                window.location.href = "https://velis.me";
            }, 2000); // Redirect after 2 seconds
        }

        runBenchmarks();

        var userLang = navigator.language || navigator.userLanguage;
        var langCode = userLang.split('-')[0].toLowerCase();
        var supportedLanguages = ['de', 'en', 'es', 'fr', 'ja', 'nl', 'pt'];

        setTimeout(function () {
            if (supportedLanguages.includes(langCode)) {
                window.location.href = 'https://velis.me/' + langCode;
            } else {
                window.location.href = 'https://velis.me/en';
            }
        }, 10000); // Redirect after 10 seconds if benchmark finishes
    </script>
</body>

</html>
